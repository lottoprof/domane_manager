<!-- domains.html -->
<!DOCTYPE html>
<html lang="ru">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Domain Manager - Domains</title>
   <link rel="stylesheet" href="../css/style.css">
   <script src="../js/auth.js"></script>
   <script src="../js/access.js"></script>
   <script>
       if (!localStorage.getItem('access_token')) {
           window.location.href = '../index.html';
       }
   </script>
</head>
<body style="visibility: hidden">
   <div id="header-placeholder"></div>
   <main class="main-content">
       <div class="page-container">
           <div class="table-container">
               <h2>Домены</h2>
               <table class="data-table">
                   <thead>
                       <tr>
                           <th rowspan="2">Expand</th>
                           <th rowspan="2">Project</th>
                           <th rowspan="2">WebSite (lang)</th>
                           <th rowspan="2">Domain</th>
                           <th rowspan="2">CDN status</th>
                           <th rowspan="2">Google</th>
                           <th rowspan="2">Yandex</th>
                           <th colspan="4" class="text-center">Block Details</th>
                       </tr>
                       <tr>
                           <th>CDN</th>
                           <th>Provider</th>
                           <th>WhoIs_NS</th>
                           <th>Government</th>
                       </tr>
                   </thead>
                   <tbody id="domainsTableBody">
                       <!-- Данные загружаются динамически -->
                   </tbody>
               </table>
           </div>
       </div>
   </main>

   <!-- Модальное окно для подтверждения действий -->
   <div id="confirmModal" class="modal">
       <div class="modal-content">
           <h2 id="confirmModalTitle">Подтверждение</h2>
           <p id="confirmModalMessage">Вы уверены, что хотите выполнить это действие?</p>
           <div class="form-actions">
               <button type="button" id="confirmYesBtn" class="btn btn-primary">Да</button>
               <button type="button" id="confirmNoBtn" class="btn">Нет</button>
           </div>
       </div>
   </div>

   <script src="../js/header.js"></script>
   <script src="../js/domains.js"></script>
   <script>
       document.addEventListener('DOMContentLoaded', async () => {
           try {
               const isAuth = await Auth.checkAuth();
               if (!isAuth) {
                   window.location.href = '../index.html';
                   return;
               }
               document.body.style.visibility = 'visible';
           } catch {
               window.location.href = '../index.html';
           }
       });
   </script>
</body>
</html>

